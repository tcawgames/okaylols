<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tcaw Retro Games</title>

<link rel="icon" href="https://i.ibb.co/WmCg0yY/catstare.png">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=JetBrains+Mono&display=swap" rel="stylesheet">

<style>
:root {
  --neon: #04ff00;
  --bg: #050805;
  --card: #0b140b;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "JetBrains Mono", monospace;
  background: radial-gradient(circle at top, #0d1a0d, var(--bg));
  color: var(--neon);
}

/* ===== NAV ===== */
nav {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 20px;
  border-bottom: 1px solid rgba(4,255,0,0.3);
}

nav img {
  width: 34px;
  border-radius: 50%;
  box-shadow: 0 0 10px var(--neon);
}

nav h1 {
  font-family: Orbitron;
  font-size: 1.2rem;
}

/* ===== CONSOLE SELECT ===== */
.console-select {
  padding: 28px;
  text-align: center;
}

.console-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 18px;
}

.console-card {
  background: linear-gradient(180deg, #0f1d0f, var(--card));
  border-radius: 16px;
  padding: 12px;
  cursor: pointer;
  transition: 0.25s;
  box-shadow: inset 0 0 14px rgba(4,255,0,0.1);
}

.console-card:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 0 28px rgba(4,255,0,0.6);
}

.console-card img {
  width: 100%;
  border-radius: 12px;
}

.console-card span {
  display: block;
  margin-top: 8px;
  font-family: Orbitron;
}

/* ===== SEARCH + FILTERS ===== */
.controls {
  display: none;
  padding: 16px;
  gap: 12px;
  flex-wrap: wrap;
}

.controls input {
  flex: 1;
  padding: 10px;
  background: #020502;
  border: 1px solid rgba(4,255,0,0.4);
  color: var(--neon);
  border-radius: 10px;
}

.controls button {
  padding: 8px 12px;
  background: #020502;
  color: var(--neon);
  border-radius: 8px;
  border: 1px solid rgba(4,255,0,0.3);
  cursor: pointer;
}

.controls button.active {
  box-shadow: 0 0 10px var(--neon);
}

/* ===== GRID ===== */
.grid {
  padding: 20px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 20px;
}

/* ===== GAME CARD ===== */
.card {
  background: linear-gradient(180deg, #0f1d0f, var(--card));
  border-radius: 16px;
  padding: 12px;
  transition: 0.2s;
  position: relative;
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 0 22px rgba(4,255,0,0.5);
}

.card img {
  width: 100%;
  border-radius: 12px;
}

.favorite {
  position: absolute;
  top: 10px;
  right: 12px;
  font-size: 1.2rem;
  cursor: pointer;
}

.favorite.active {
  color: gold;
  text-shadow: 0 0 10px gold;
}

.console-tag {
  font-size: 0.65rem;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(4,255,0,0.5);
  display: inline-block;
  margin: 6px 0;
  font-family: Orbitron;
}

/* ===== MOBILE ===== */
@media (max-width: 600px) {
  nav h1 { font-size: 1rem; }
  .grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
}
</style>
</head>

<body>

<nav>
  <img src="https://i.ibb.co/WmCg0yY/catstare.png">
  <h1>Tcaw Retro Games</h1>
</nav>

<audio id="startupSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_5f32b6b3b6.mp3"></audio>

<div class="console-select" id="consoleSelect">
  <h2>Choose Your Console</h2>
  <div class="console-grid">
    <div class="console-card" onclick="selectConsole('ALL')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/3/3f/Gamepad_icon.svg">
      <span>All Games</span>
    </div>
    <div class="console-card" onclick="selectConsole('NES')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/NES-Console-Set.png">
      <span>NES</span>
    </div>
    <div class="console-card" onclick="selectConsole('SNES')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/3/31/SNES-Mod1-Console-Set.png">
      <span>SNES</span>
    </div>
    <div class="console-card" onclick="selectConsole('GENESIS')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/5/5c/Sega-Genesis-Mk2-Console-Set.png">
      <span>Genesis</span>
    </div>
    <div class="console-card" onclick="selectConsole('ARCADE')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Arcade_machine.svg">
      <span>Arcade</span>
    </div>
  </div>
</div>

<div class="controls" id="controls">
  <input placeholder="Search games..." oninput="filterGames(this.value)">
  <button onclick="showAll()">All</button>
  <button onclick="showFavorites()">⭐ Favorites</button>
</div>

<div class="grid" id="gameGrid"></div>

<script>
let games = [];
let activeConsole = localStorage.getItem("console") || null;
let favorites = JSON.parse(localStorage.getItem("favorites") || "[]");

fetch("games.json")
  .then(r => r.json())
  .then(d => {
    games = d.games;
    if (activeConsole) selectConsole(activeConsole, true);
  });

function selectConsole(c, silent=false) {
  activeConsole = c;
  localStorage.setItem("console", c);
  document.getElementById("consoleSelect").style.display = "none";
  document.getElementById("controls").style.display = "flex";
  if (!silent) document.getElementById("startupSound").play();
  render();
}

function render(list = games) {
  const grid = document.getElementById("gameGrid");
  grid.innerHTML = "";
  list.filter(g => activeConsole==="ALL" || g.console===activeConsole)
      .forEach(g => {
    const fav = favorites.includes(g.name);
    const d = document.createElement("div");
    d.className = "card";
    d.innerHTML = `
      <div class="favorite ${fav?'active':''}" onclick="toggleFav(event,'${g.name}')">♥</div>
      <span class="console-tag">${g.console}</span>
      <img src="${g.icon}">
      <h3>${g.displayName}</h3>
      <p>${g.description}</p>
    `;
    d.onclick = e => { if(!e.target.classList.contains("favorite")) location.href=g.url };
    grid.appendChild(d);
  });
}

function filterGames(q) {
  q=q.toLowerCase();
  render(games.filter(g =>
    g.displayName.toLowerCase().includes(q) ||
    g.description.toLowerCase().includes(q)
  ));
}

function toggleFav(e,name){
  e.stopPropagation();
  favorites.includes(name)
    ? favorites=favorites.filter(f=>f!==name)
    : favorites.push(name);
  localStorage.setItem("favorites",JSON.stringify(favorites));
  render();
}

function showFavorites(){
  render(games.filter(g=>favorites.includes(g.name)));
}

function showAll(){ render(); }
</script>

</body>
</html>
